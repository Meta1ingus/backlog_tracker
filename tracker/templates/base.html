{% load static %}
<!DOCTYPE html>
<html>
<head>
  <title>Backlogged.uk</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="utf-8">
  
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  <!-- Your custom CSS -->
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
  <!-- Tom Select CSS -->
  <link href="https://cdn.jsdelivr.net/npm/tom-select/dist/css/tom-select.css" rel="stylesheet">
</head>

<!-- FIX: removed .container from body -->
<body class="py-4">

<!-- Navbar -->
<nav class="navbar navbar-expand-lg custom-navbar mb-4">

  <a class="navbar-brand" href="/">
    Backlogged<span class="brand-micro">.uk</span>
  </a>

  <!-- Toggler button -->
  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNavbar">
      <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="mainNavbar">
    <ul class="navbar-nav ms-auto align-items-center">

      {% if user.is_authenticated %}
        <li class="nav-item">
          <a class="nav-link" href="{% url 'library_add' %}">Add New Game</a>
        </li>

        {% if user.is_staff %}
        <li class="nav-item">
          <a class="nav-link" href="/admin/">Admin</a>
        </li>
        {% endif %}

        <li class="nav-item">
          <span class="nav-welcome">Welcome, {{ user.username|capfirst }}</span>
        </li>

        <li class="nav-item">
          <form method="post" action="{% url 'logout' %}" class="logout-form">
            {% csrf_token %}
            <button type="submit" class="nav-link logout-btn">Logout</button>
          </form>
        </li>

      {% else %}
        <li class="nav-item">
          <a class="nav-link" href="{% url 'login' %}">Login</a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="{% url 'register' %}">Register</a>
        </li>
      {% endif %}

    </ul>
  </div>
</nav>

<!-- FIX: wrap page content in its own container -->
<div class="container">
  {% block content %}{% endblock %}
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<!-- Tom Select JS -->
<script src="https://cdn.jsdelivr.net/npm/tom-select/dist/js/tom-select.complete.min.js"></script>

</body>
</html>